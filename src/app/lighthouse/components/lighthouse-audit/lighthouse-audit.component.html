<!-- <div *ngIf="loading" class="loading-indicator">Loading...</div>
<div *ngIf="metrics && !loading">
  <h2>Performance Metrics</h2>
  <p>First Contentful Paint: {{ metrics.firstContentfulPaint }}</p>
  <p>Speed Index: {{ metrics.speedIndex }}</p>
  <p>Largest Contentful Paint: {{ metrics.largestContentfulPaint }}</p>
  <p>Time to Interactive: {{ metrics.interactive }}</p>
  <p>Total Blocking Time: {{ metrics.totalBlockingTime }}</p>
  <p>Cumulative Layout Shift: {{ metrics.cumulativeLayoutShift }}</p>
</div>
<button (click)="runAudit('https://apw.bss.design/')" [disabled]="loading">Run Audit</button> -->

<div *ngIf="loading" class="loading-indicator">Loading...</div>

<div *ngIf="metrics.performance && !loading">
  <!-- Performance Metrics Section -->
  <h2>Performance Metrics</h2>
  <p>First Contentful Paint: {{ metrics.performance.firstContentfulPaint }}</p>
  <p>Speed Index: {{ metrics.performance.speedIndex }}</p>
  <p>Largest Contentful Paint: {{ metrics.performance.largestContentfulPaint }}</p>
  <p>Time to Interactive: {{ metrics.performance.interactive }}</p>
  <p>Total Blocking Time: {{ metrics.performance.totalBlockingTime }}</p>
  <p>Cumulative Layout Shift: {{ metrics.performance.cumulativeLayoutShift }}</p>
</div>

<div *ngIf="metrics.sustainability && !loading">
  <!-- Sustainability Metrics Section -->
  <h2>Sustainability Metrics</h2>
  <p>Total CO₂ Emissions: {{ metrics.sustainability.co2Emissions }} g</p>
  <p><i>Note:</i> Contribution refers to the percentage of total CO₂ emissions generated by each resource type.</p>
  <p><i>Example:</i> If the total CO₂ emissions for all resources on the webpage is 10 grams and images contribute 2 grams, the contribution of images would be 20% because \( (2 / 10) times 100 = 20% \).</p>
  <div *ngIf="metrics.sustainability.resourceBreakdown?.length > 0">
    <h3>Resource Breakdown</h3>
    <table>
      <thead>
        <tr>
          <th>Resource Type</th>
          <th>Total Size (MB)</th>
          <th>CO₂ Emissions (g)</th>
          <th>Contribution (%)</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let resource of metrics.sustainability.resourceBreakdown">
          <td>{{ resource.resourceType }}</td>
          <td>{{ resource.size }}</td>
          <td>{{ resource.co2 }}</td>
          <td>{{ resource.contribution }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<button (click)="runAudit('https://apw.bss.design/')" [disabled]="loading">Run Audit</button>

<h2>The results ran on a test webpage (<a href="https://apw.bss.design/">https://apw.bss.design/</a>) owned by the owner in this Project <i>Amr Hamcho</i>.  The page was developed for testing and illustrating purposes for this project</h2>

